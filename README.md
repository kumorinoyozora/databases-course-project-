## Курсовой проект по курсу "Базы данных"

### Описание варианта:

Авиакомпания «Сокол» занимается перевозкой пассажиров и имеет сеть небольших аэропортов. Необходимо разработать базу данных для внутреннего сервиса компании для автоматизации этапов авиаперелетов и подготовительных работ на земле.

В компании есть сотрудники разных должностей, которые являются пользователями системы. Среди которых можно выделить пилотов, диспетчеров, механиков.

В каждом аэропорту имеется парк самолетов различных типов, которые располагаются в ангарах различного размера.

Диспетчер отслеживает местонахождение самолетов (позицию самолета), контролирует траекторию их полета и сообщает пилотам, какую полосу им следует занять для взлета и посадки. Также он определяет, в какой ангар загнать самолет в зависимости от его размера. Отвечает за координацию всех самолетов внутри воздушного пространства вокруг аэропорта. Диспетчер, который будет отвечать за самолет, вошедший в воздушное пространство аэропорта, назначается системой автоматически: из всех авиадиспетчеров компании выбирается наименее загруженный.

Пилот управляет самолетом, следует указаниям авиадиспетчера, узнает статус готовности самолёта к полету у механика.

Самолет может быть в следующих состояниях: в полете, готов ко взлету, готов к посадке, неисправен, в проверке механиком, ждет проверки механиком. Сразу после посадки самолет переходит в статус «ждет проверки механиком». Статусы самолёта сохраняются с информацией о времени.

Механик готовит самолет к следующему полету, сообщает пилоту и диспетчеру информацию о готовности самолета к полету или сообщает о критической неисправности (переводит самолет в состояние «неисправен»). Если после проверки оказывается, что с самолетом все хорошо, механик переводит его статус «готов ко взлету».

При подготовке к полёту сохраняется информация о плановом времени вылета и прилета. Непосредственно при осуществлении полета записывается также и фактическое. Полосы для взлета и посадки назначаются самолетам автоматически, исходя из загруженности: полоса для взлета выбирается та, у ко- торой меньше самолетов находятся в статусе «готов ко взлету» или «готов к посадке».

Самолет переходит в состояние «готов к посадке», когда до аэропорта-назначения остается меньше 20 км. Координаты самолета обновляются каждые 30 секунд.

Перед заходом на взлетно-посадочную полосу для взлета пилот ждет сообщение от диспетчера о том, что полоса свободна. Полоса становится свободной после того, как:
1) самолет, занимавший ее последним, наберет высоту 100 метров (этот самолет считается изменившим свое состояние на статус «в полете»)
2) самолет, садившийся на нее последним, завершит полет (перейдет в состояние «ждет проверки механиком»).

На каждый полет самолета продаются и оформляются билеты для пассажиров с информацией о месте и пассажире.

В рамках курса Базы данных нужно было: спроектировать реляционную базу данных, создать ее, разработать триггеры и процедуры, разработать запросы и провести их анализ. 

##### Множества сущностей

| Номер | Имя множества сущностей | Определение                                          | Свойства                                                                                                                                                                                                                   |
| ----- | ----------------------- | ---------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| E1    | Аэропорт                | Комплекс зданий, расположенный в некотором месте     | Координаты, высота над уровнем моря, радиус воздушного пространства, город, страна, название, список полос                                                                                                                 |
| E2    | Самолёт                 | Транспортное средство для авиаперелетов              | Текущий статус, координаты, высота над уровнем моря, ширина, длина, высота, история статусов                                                                                                                               |
| E3    | Статус самолёта         | Разные состояния самолета                            | Один из следующих статусов: В полете, готов ко взлету, готов к посадке, неисправен, в проверке механиком, ждет проверки механиком                                                                                          |
| E4    | Позиция самолёта        | Расположение самолета в некоторой точке пространства | Координаты самолета, время UTC, положение самолета в пространстве (направление, тангаж), скорость                                                                                                                          |
| E5    | Полёт                   | Разовый вылет самолёта из одного аэропорта в другой  | Самолет, пилот, полоса для взлета, полоса для посадки, диспетчеры, отвечающие за полет, аэропорт взлета, аэропорт посадки, время взлета и посадки, позиции самолета в полете, плановое и актуальное время вылета и посадки |
| E6    | Сотрудник               | Информация о сотруднике                              | Фио, возраст, аэропорт (место работы), информация о трудовых договорах                                                                                                                                                     |
| E7    | Должность сотрудника    | Работа, которую выполняет сотрудник                  | Название должности, список трудовых обязанностей                                                                                                                                                                           |
| E8    | Пассажир                | Информация о пассажире                               | Фио, возраст, паспортные данные, страна гражданства                                                                                                                                                                        |
| E9    | Билет на полёт          | Информация о билете                                  | -                                                                                                                                                                                                                          |
| E10   | Полоса                  | Полоса для посадки самолёта                          | Статус (свободна/не свободна), аэропорт, координаты, длина, направление                                                                                                                                                    |
| E11   | Ангар                   | Место парковки самолёта                              | Ширина, длина, высота, аэропорт, координаты                                                                                                                                                                                |


Приведены не все сущности и не все свойства каждого множества сущностей. Дополнительные свойства можно найти в описании варианта.

### О реализации

Структура базы данных воссоздаётся, в отличие от её сгенерированного содержимого, из кода в файлах. ТЗ по триггерам, процедурам и запросам приведены в виде комментариев в одноимённых файлах. 
Кроме того, `.ipynb` файл является неотделимой частью проекта, так как без скрипта в нём, генерирующего всю информацию о полётах (и заполняющего все связанные таблицы), запросы не имели бы смысла, поскольку их нельзя было бы проверить.
